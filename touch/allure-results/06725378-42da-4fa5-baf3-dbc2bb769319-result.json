{"uuid":"06725378-42da-4fa5-baf3-dbc2bb769319","historyId":"314da30a1f7cbdc321d5f9f36282cacf","fullName":"Whatsapp ORCA :: Chatdesk: ChatDesk:: The header should have whatsapp icon when user is chatting using orca whatsapp","labels":[{"name":"tag","value":"no_widget"},{"name":"tag","value":"orca_api"},{"name":"tag","value":"TestCaseId(\"https://jira.clickatell.com/browse/TPORT-118502\")"},{"name":"host","value":"NLPULTP8105482"},{"name":"thread","value":"8088@NLPULTP8105482.main(1)"},{"name":"feature","value":"Whatsapp ORCA :: Chatdesk"},{"name":"story","value":"ChatDesk:: The header should have whatsapp icon when user is chatting using orca whatsapp"},{"name":"suite","value":"Whatsapp ORCA :: Chatdesk"},{"name":"testClass","value":"ChatDesk:: The header should have whatsapp icon when user is chatting using orca whatsapp"},{"name":"framework","value":"cucumber4jvm"},{"name":"language","value":"java"},{"name":"gherkin_uri","value":"file:///C:/Users/sonali.dighe/IdeaProjects/mc2-touch-tests/touch/src/test/java/scenario/generalbank/whatsapporca/ChatdeskOrcaWA.feature"},{"name":"package","value":"src.test.java.scenario.generalbank.whatsapporca.ChatdeskOrcaWA_feature.Whatsapp ORCA :: Chatdesk"}],"links":[],"name":"ChatDesk:: The header should have whatsapp icon when user is chatting using orca whatsapp","status":"failed","statusDetails":{"known":false,"muted":false,"flaky":false,"message":"Failed to get tenant info\nURL: https://demo-chatdesk-platform-app-bravo.int-eks-dev.shared-dev.eu-west-1.aws.clickatell.com/tenant\nresp status code:404\nresp body: {\"timestamp\":\"2022-08-02T14:02:55.704+00:00\",\"status\":404,\"error\":\"Not Found\",\"path\":\"/tenant\"} expected [200] but found [404]","trace":"java.lang.AssertionError: Failed to get tenant info\nURL: https://demo-chatdesk-platform-app-bravo.int-eks-dev.shared-dev.eu-west-1.aws.clickatell.com/tenant\nresp status code:404\nresp body: {\"timestamp\":\"2022-08-02T14:02:55.704+00:00\",\"status\":404,\"error\":\"Not Found\",\"path\":\"/tenant\"} expected [200] but found [404]\r\n\tat org.testng.Assert.fail(Assert.java:99)\r\n\tat org.testng.Assert.failNotEquals(Assert.java:1037)\r\n\tat org.testng.Assert.assertEqualsImpl(Assert.java:140)\r\n\tat org.testng.Assert.assertEquals(Assert.java:122)\r\n\tat org.testng.Assert.assertEquals(Assert.java:907)\r\n\tat apihelper.ApiHelper.getTenantInfo(ApiHelper.java:86)\r\n\tat steps.agentsteps.DefaultAgentSteps.verifyAndUpdateChatSettings(DefaultAgentSteps.java:153)\r\n\tat steps.agentsteps.DefaultAgentSteps.verifyIfAgentReceivesConversationRequest(DefaultAgentSteps.java:133)\r\n\tat ✽.Agent has new conversation request from orca user(file:///C:/Users/sonali.dighe/IdeaProjects/mc2-touch-tests/touch/src/test/java/scenario/generalbank/whatsapporca/ChatdeskOrcaWA.feature:10)\r\n"},"stage":"finished","steps":[{"name":"Given  I login as agent of General Bank Demo","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1659448919261,"stop":1659448942119},{"name":"Given  Setup ORCA whatsapp integration for General Bank Demo tenant","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1659448942120,"stop":1659448950540},{"name":"When  Send connect to Support message by ORCA","status":"passed","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1659448950540,"stop":1659448952791},{"name":"Then  Agent has new conversation request from orca user","status":"failed","statusDetails":{"known":false,"muted":false,"flaky":false,"message":"Failed to get tenant info\nURL: https://demo-chatdesk-platform-app-bravo.int-eks-dev.shared-dev.eu-west-1.aws.clickatell.com/tenant\nresp status code:404\nresp body: {\"timestamp\":\"2022-08-02T14:02:55.704+00:00\",\"status\":404,\"error\":\"Not Found\",\"path\":\"/tenant\"} expected [200] but found [404]","trace":"java.lang.AssertionError: Failed to get tenant info\nURL: https://demo-chatdesk-platform-app-bravo.int-eks-dev.shared-dev.eu-west-1.aws.clickatell.com/tenant\nresp status code:404\nresp body: {\"timestamp\":\"2022-08-02T14:02:55.704+00:00\",\"status\":404,\"error\":\"Not Found\",\"path\":\"/tenant\"} expected [200] but found [404]\r\n\tat org.testng.Assert.fail(Assert.java:99)\r\n\tat org.testng.Assert.failNotEquals(Assert.java:1037)\r\n\tat org.testng.Assert.assertEqualsImpl(Assert.java:140)\r\n\tat org.testng.Assert.assertEquals(Assert.java:122)\r\n\tat org.testng.Assert.assertEquals(Assert.java:907)\r\n\tat apihelper.ApiHelper.getTenantInfo(ApiHelper.java:86)\r\n\tat steps.agentsteps.DefaultAgentSteps.verifyAndUpdateChatSettings(DefaultAgentSteps.java:153)\r\n\tat steps.agentsteps.DefaultAgentSteps.verifyIfAgentReceivesConversationRequest(DefaultAgentSteps.java:133)\r\n\tat ✽.Agent has new conversation request from orca user(file:///C:/Users/sonali.dighe/IdeaProjects/mc2-touch-tests/touch/src/test/java/scenario/generalbank/whatsapporca/ChatdeskOrcaWA.feature:10)\r\n"},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1659448952791,"stop":1659448975738},{"name":"When  Agent click on new conversation request from orca","status":"skipped","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1659448975739,"stop":1659448975740},{"name":"Then  Conversation area becomes active with connect to Support user's message","status":"skipped","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1659448975740,"stop":1659448975741},{"name":"Then  Valid image for whatsapp integration are shown in left menu with chat","status":"skipped","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1659448975741,"stop":1659448975741},{"name":"And  Agent should see whatsappHeader icon in active chat header","status":"skipped","statusDetails":{"known":false,"muted":false,"flaky":false},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1659448975742,"stop":1659448975742}],"attachments":[],"parameters":[],"start":1659448919190,"stop":1659448989791}