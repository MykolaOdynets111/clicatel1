<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns2:test-suite start="1547649321041" stop="1547649405480" version="1.5.2" xmlns:ns2="urn:model.allure.qatools.yandex.ru">
    <name>Creating .Control integration and sending messages</name>
    <description type="text"></description>
    <test-cases>
        <test-case start="1547649321041" stop="1547649325348" status="failed">
            <name>Sending message to .Control (bot only)</name>
            <title>Sending message to .Control (bot only)</title>
            <description type="text"></description>
            <failure>
                <message>AssertionError: Integration creating was not successful
Status code 401
 Body: {"messageId":"11387664","clientId":"testing_dotc1442504","conversationId":"conv_reiciendis","referenceId":"","error":"Can not define tenant via api token"} expected [true] but found [false]</message>
                <stack-trace>java.lang.AssertionError: Integration creating was not successful
Status code 401
 Body: {"messageId":"11387664","clientId":"testing_dotc1442504","conversationId":"conv_reiciendis","referenceId":"","error":"Can not define tenant via api token"} expected [true] but found [false]
	at org.testng.Assert.fail(Assert.java:94)
	at org.testng.Assert.failNotEquals(Assert.java:496)
	at org.testng.Assert.assertTrue(Assert.java:42)
	at api_helper.APIHelperDotControl.sendMessage(APIHelperDotControl.java:55)
	at steps.dot_control.DotControlSteps.sendMessageToDotControl(DotControlSteps.java:58)
	at ✽.When Send branch location message for .Control(DotControlMessaging.feature:9)
</stack-trace>
            </failure>
            <steps>
                <step start="1547649321525" stop="1547649322765" status="passed">
                    <name>Given Create .Control integration for General Bank Demo tenant</name>
                    <title>Given Create .Control integration for General Bank Demo tenant</title>
                </step>
                <step start="1547649322765" stop="1547649324323" status="failed">
                    <name>When Send branch location message for .Control</name>
                    <title>When Send branch location message for .Control</title>
                </step>
                <step start="1547649324326" stop="1547649324327" status="canceled">
                    <name>Then Verify dot .Control returns response with correct text for initial branch location user message</name>
                    <title>Then Verify dot .Control returns response with correct text for initial branch location user message</title>
                </step>
            </steps>
            <attachments/>
            <labels>
                <label name="story" value="Sending message to .Control (bot only)"/>
                <label name="feature" value="Creating .Control integration and sending messages"/>
                <label name="host" value="unassigned"/>
                <label name="thread" value="13110@unassigned.main(1)"/>
                <label name="framework" value="CucumberJVM"/>
            </labels>
        </test-case>
        <test-case start="1547649325348" stop="1547649405465" status="broken">
            <name>Sending message to .Control (to agent)</name>
            <title>Sending message to .Control (to agent)</title>
            <description type="text"></description>
            <failure>
                <message>WebDriverException: java.io.IOException: unexpected end of stream on Connection{localhost:15882, proxy=DIRECT hostAddress=localhost/127.0.0.1:15882 cipherSuite=none protocol=http/1.1}
Build info: version: '3.12.0', revision: '7c6e0b3', time: '2018-05-08T14:04:26.12Z'
System info: host: 'unassigned', ip: '127.0.1.1', os.name: 'Linux', os.arch: 'amd64', os.version: '4.4.0-116-generic', java.version: '1.8.0_161'
Driver info: driver.version: RemoteWebDriver</message>
                <stack-trace>org.openqa.selenium.WebDriverException: java.io.IOException: unexpected end of stream on Connection{localhost:15882, proxy=DIRECT hostAddress=localhost/127.0.0.1:15882 cipherSuite=none protocol=http/1.1}
Build info: version: '3.12.0', revision: '7c6e0b3', time: '2018-05-08T14:04:26.12Z'
System info: host: 'unassigned', ip: '127.0.1.1', os.name: 'Linux', os.arch: 'amd64', os.version: '4.4.0-116-generic', java.version: '1.8.0_161'
Driver info: driver.version: RemoteWebDriver
	at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:92)
	at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)
	at org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:276)
	at org.openqa.selenium.remote.RemoteWebElement.click(RemoteWebElement.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:51)
	at ru.yandex.qatools.htmlelements.loader.decorator.proxyhandlers.WebElementNamedProxyHandler.invoke(WebElementNamedProxyHandler.java:44)
	at com.sun.proxy.$Proxy47.click(Unknown Source)
	at agent_side_pages.AgentHomePage.clickSendButton(AgentHomePage.java:128)
	at agent_side_pages.AgentHomePage.sendResponseToUser(AgentHomePage.java:107)
	at agent_side_pages.AgentHomePage.clearAndSendResponseToUser(AgentHomePage.java:124)
	at steps.AgentConversationSteps.sendAnswerToUser(AgentConversationSteps.java:89)
	at ✽.When Agent responds with hello from agent to User(DotControlMessaging.feature:19)
Caused by: java.io.IOException: unexpected end of stream on Connection{localhost:15882, proxy=DIRECT hostAddress=localhost/127.0.0.1:15882 cipherSuite=none protocol=http/1.1}
	at okhttp3.internal.http1.Http1Codec.readResponseHeaders(Http1Codec.java:205)
	at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:88)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:125)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)
	at okhttp3.RealCall.execute(RealCall.java:77)
	at org.openqa.selenium.remote.internal.OkHttpClient.execute(OkHttpClient.java:105)
	at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:155)
	at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)
	at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)
	at org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:276)
	at org.openqa.selenium.remote.RemoteWebElement.click(RemoteWebElement.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:51)
	at ru.yandex.qatools.htmlelements.loader.decorator.proxyhandlers.WebElementNamedProxyHandler.invoke(WebElementNamedProxyHandler.java:44)
	at com.sun.proxy.$Proxy47.click(Unknown Source)
	at agent_side_pages.AgentHomePage.clickSendButton(AgentHomePage.java:128)
	at agent_side_pages.AgentHomePage.sendResponseToUser(AgentHomePage.java:107)
	at agent_side_pages.AgentHomePage.clearAndSendResponseToUser(AgentHomePage.java:124)
	at steps.AgentConversationSteps.sendAnswerToUser(AgentConversationSteps.java:89)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at cucumber.runtime.Utils$1.call(Utils.java:40)
	at cucumber.runtime.Timeout.timeout(Timeout.java:16)
	at cucumber.runtime.Utils.invoke(Utils.java:34)
	at cucumber.runtime.java.JavaStepDefinition.execute(JavaStepDefinition.java:38)
	at cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)
	at cucumber.runtime.Runtime.runStep(Runtime.java:300)
	at cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)
	at cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)
	at cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)
	at cucumber.runtime.model.CucumberFeature.run(CucumberFeature.java:165)
	at cucumber.api.testng.TestNGCucumberRunner.runCucumber(TestNGCucumberRunner.java:63)
	at cucubmerrunner.TestNgCucumberFeatureRunner.feature(TestNgCucumberFeatureRunner.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:85)
	at org.testng.internal.Invoker.invokeMethod(Invoker.java:659)
	at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:845)
	at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1153)
	at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:108)
	at org.testng.TestRunner.privateRun(TestRunner.java:771)
	at org.testng.TestRunner.run(TestRunner.java:621)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:357)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:352)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:310)
	at org.testng.SuiteRunner.run(SuiteRunner.java:259)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1199)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1124)
	at org.testng.TestNG.run(TestNG.java:1032)
	at org.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:72)
	at org.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:123)
Caused by: java.io.EOFException: \n not found: limit=0 content=…
	at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:227)
	at okhttp3.internal.http1.Http1Codec.readHeaderLine(Http1Codec.java:212)
	at okhttp3.internal.http1.Http1Codec.readResponseHeaders(Http1Codec.java:189)
	... 71 more
</stack-trace>
            </failure>
            <steps>
                <step start="1547649325716" stop="1547649326796" status="passed">
                    <name>Given Create .Control integration for General Bank Demo tenant</name>
                    <title>Given Create .Control integration for General Bank Demo tenant</title>
                </step>
                <step start="1547649326797" stop="1547649350507" status="passed">
                    <name>Given I login as agent of General Bank Demo</name>
                    <title>Given I login as agent of General Bank Demo</title>
                </step>
                <step start="1547649350507" stop="1547649351736" status="passed">
                    <name>When Send chat to agent message for .Control</name>
                    <title>When Send chat to agent message for .Control</title>
                </step>
                <step start="1547649351736" stop="1547649403611" status="passed">
                    <name>Then Agent has new conversation request from dotcontrol user</name>
                    <title>Then Agent has new conversation request from dotcontrol user</title>
                </step>
                <step start="1547649403611" stop="1547649404083" status="passed">
                    <name>When Agent click on new conversation request from dotcontrol</name>
                    <title>When Agent click on new conversation request from dotcontrol</title>
                </step>
                <step start="1547649404083" stop="1547649404572" status="passed">
                    <name>Then Conversation area becomes active with chat to agent user's message</name>
                    <title>Then Conversation area becomes active with chat to agent user's message</title>
                </step>
                <step start="1547649404573" stop="1547649405439" status="broken">
                    <name>When Agent responds with hello from agent to User</name>
                    <title>When Agent responds with hello from agent to User</title>
                </step>
                <step start="1547649405439" stop="1547649405439" status="canceled">
                    <name>Then Verify dot .Control returns hello from agent response</name>
                    <title>Then Verify dot .Control returns hello from agent response</title>
                </step>
                <step start="1547649405440" stop="1547649405440" status="canceled">
                    <name>When Send hi, need your help with my card message for .Control</name>
                    <title>When Send hi, need your help with my card message for .Control</title>
                </step>
                <step start="1547649405440" stop="1547649405440" status="canceled">
                    <name>Then Conversation area contains hi, need your help with my card user's message</name>
                    <title>Then Conversation area contains hi, need your help with my card user's message</title>
                </step>
            </steps>
            <attachments/>
            <labels>
                <label name="story" value="Sending message to .Control (to agent)"/>
                <label name="feature" value="Creating .Control integration and sending messages"/>
                <label name="host" value="unassigned"/>
                <label name="thread" value="13110@unassigned.main(1)"/>
                <label name="framework" value="CucumberJVM"/>
            </labels>
        </test-case>
        <test-case start="1547649405465" stop="1547649405480" status="broken">
            <name>Creating .Control integration</name>
            <title>Creating .Control integration</title>
            <description type="text"></description>
            <failure>
                <message>Test was interrupted</message>
            </failure>
            <labels>
                <label name="story" value="Creating .Control integration"/>
                <label name="feature" value="Creating .Control integration and sending messages"/>
                <label name="host" value="unassigned"/>
                <label name="thread" value="13110@unassigned.main(1)"/>
                <label name="framework" value="CucumberJVM"/>
            </labels>
        </test-case>
        <test-case start="1547649321041" stop="1547649405480" status="broken">
            <name>Creating .Control integration and sending messages</name>
            <title>Creating .Control integration and sending messages</title>
            <failure>
                <message>Test suite was interrupted, some test cases may be lost</message>
            </failure>
        </test-case>
    </test-cases>
    <labels>
        <label name="feature" value="Creating .Control integration and sending messages"/>
        <label name="language" value="JAVA"/>
    </labels>
</ns2:test-suite>
