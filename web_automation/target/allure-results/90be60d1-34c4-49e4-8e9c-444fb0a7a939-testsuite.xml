<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns2:test-suite start="1526912611293" stop="1526912883726" version="1.5.2" xmlns:ns2="urn:model.allure.qatools.yandex.ru">
    <name>Testing TIE APIs</name>
    <description type="text"></description>
    <test-cases>
        <test-case start="1526912611301" stop="1526912706123" status="broken">
            <name>User should be able to create and remove new tenant and not be able to create duplicated tenant</name>
            <title>User should be able to create and remove new tenant and not be able to create duplicated tenant</title>
            <description type="text">API PUT /tenants/ data={'tenant': 'TESTONE'}
API DELETE /tenants/?tenant=TESTONE</description>
            <failure>
                <message>NullPointerException: null</message>
                <stack-trace>java.lang.NullPointerException
                    at drivermanager.URLs.getTieURL(URLs.java:94)
                    at steps.tiesteps.TIEApiSteps.verifyNewCreatedTenantResponds(TIEApiSteps.java:370)
                    at ✽.Then I receives response on my input check balance(TIEApiNERTenantManagement.feature:14)
                </stack-trace>
            </failure>
            <steps>
                <step start="1526912611308" stop="1526912611773" status="passed">
                    <name>Given Listener for logging request and response is ready</name>
                    <title>Given Listener for logging request and response is ready</title>
                </step>
                <step start="1526912611774" stop="1526912625219" status="passed">
                    <name>When I create new tenant with TIE API</name>
                    <title>When I create new tenant with TIE API</title>
                </step>
                <step start="1526912625219" stop="1526912695220" status="passed">
                    <name>And Wait for a minute</name>
                    <title>And Wait for a minute</title>
                </step>
                <step start="1526912695220" stop="1526912705651" status="broken">
                    <name>Then I receives response on my input check balance</name>
                    <title>Then I receives response on my input check balance</title>
                </step>
                <step start="1526912705652" stop="1526912705653" status="canceled">
                    <name>When I try to create tenant with the same name I should receive 404 response code</name>
                    <title>When I try to create tenant with the same name I should receive 404 response code</title>
                </step>
                <step start="1526912705653" stop="1526912705653" status="canceled">
                    <name>When I delete created tenant</name>
                    <title>When I delete created tenant</title>
                </step>
                <step start="1526912705653" stop="1526912705653" status="canceled">
                    <name>And Wait for a minute</name>
                    <title>And Wait for a minute</title>
                </step>
                <step start="1526912705655" stop="1526912705655" status="canceled">
                    <name>Then I am not receiving the response for this tenant on check balance</name>
                    <title>Then I am not receiving the response for this tenant on check balance</title>
                </step>
            </steps>
            <attachments/>
            <labels>
                <label name="story" value="User should be able to create and remove new tenant and not be able to create duplicated tenant"/>
                <label name="feature" value="Testing TIE APIs"/>
                <label name="host" value="unassigned"/>
                <label name="thread" value="22359@unassigned.pool-1-thread-1(12)"/>
                <label name="framework" value="CucumberJVM"/>
            </labels>
        </test-case>
        <test-case start="1526912706123" stop="1526912784068" status="broken">
            <name>User should be able to clone tenant</name>
            <title>User should be able to clone tenant</title>
            <description type="text">API PUT /tenants/ data={'tenant': 'TESTONE', 'source_tenant':'generalbank'}</description>
            <failure>
                <message>JsonPathException: Failed to parse the JSON document</message>
                <stack-trace>io.restassured.path.json.exception.JsonPathException: Failed to parse the JSON document
                    at io.restassured.path.json.JsonPath$ExceptionCatcher.invoke(JsonPath.java:930)
                    at io.restassured.path.json.JsonPath$4.doParseWith(JsonPath.java:895)
                    at io.restassured.path.json.JsonPath$JsonParser.parseWith(JsonPath.java:975)
                    at io.restassured.path.json.JsonPath.get(JsonPath.java:201)
                    at steps.tiesteps.TIEApiSteps.verifyClonedTenantResponds(TIEApiSteps.java:387)
                    at ✽.Then Config of cloned intent is the same as for
                    generalbank(TIEApiNERTenantManagement.feature:24)
                    Caused by: groovy.json.JsonException: Lexing failed on line: 1, column: 1, while reading '&lt;', no
                    possible valid JSON value or punctuation could be recognized.
                    at groovy.json.JsonLexer.nextToken(JsonLexer.java:85)
                    at groovy.json.JsonLexer$nextToken.call(Unknown Source)
                    at
                    io.restassured.internal.path.json.ConfigurableJsonSlurper.parse(ConfigurableJsonSlurper.groovy:97)
                    at io.restassured.internal.path.json.ConfigurableJsonSlurper$parse$0.callCurrent(Unknown Source)
                    at
                    io.restassured.internal.path.json.ConfigurableJsonSlurper.parseText(ConfigurableJsonSlurper.groovy:83)
                    at io.restassured.path.json.JsonPath$4$1.method(JsonPath.java:893)
                    at io.restassured.path.json.JsonPath$ExceptionCatcher.invoke(JsonPath.java:928)
                    at io.restassured.path.json.JsonPath$4.doParseWith(JsonPath.java:895)
                    at io.restassured.path.json.JsonPath$JsonParser.parseWith(JsonPath.java:975)
                    at io.restassured.path.json.JsonPath.get(JsonPath.java:201)
                    at steps.tiesteps.TIEApiSteps.verifyClonedTenantResponds(TIEApiSteps.java:387)
                    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
                    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
                    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
                    at java.lang.reflect.Method.invoke(Method.java:498)
                    at cucumber.runtime.Utils$1.call(Utils.java:40)
                    at cucumber.runtime.Timeout.timeout(Timeout.java:16)
                    at cucumber.runtime.Utils.invoke(Utils.java:34)
                    at cucumber.runtime.java.JavaStepDefinition.execute(JavaStepDefinition.java:38)
                    at cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)
                    at cucumber.runtime.Runtime.runStep(Runtime.java:300)
                    at cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)
                    at cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)
                    at cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)
                    at cucumber.runtime.model.CucumberFeature.run(CucumberFeature.java:165)
                    at cucumber.api.testng.TestNGCucumberRunner.runCucumber(TestNGCucumberRunner.java:63)
                    at cucubmerrunner.TestNgCucumberFeatureRunner.feature(TestNgCucumberFeatureRunner.java:79)
                    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
                    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
                    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
                    at java.lang.reflect.Method.invoke(Method.java:498)
                    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:85)
                    at org.testng.internal.Invoker.invokeMethod(Invoker.java:659)
                    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:845)
                    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1153)
                    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)
                    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:108)
                    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
                    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
                    at java.lang.Thread.run(Thread.java:748)
                </stack-trace>
            </failure>
            <steps>
                <step start="1526912706124" stop="1526912706125" status="passed">
                    <name>Given Listener for logging request and response is ready</name>
                    <title>Given Listener for logging request and response is ready</title>
                </step>
                <step start="1526912706125" stop="1526912712791" status="passed">
                    <name>When I create a clone of generalbank tenant with TIE API</name>
                    <title>When I create a clone of generalbank tenant with TIE API</title>
                </step>
                <step start="1526912712791" stop="1526912782792" status="passed">
                    <name>And Wait for a minute</name>
                    <title>And Wait for a minute</title>
                </step>
                <step start="1526912782792" stop="1526912784068" status="broken">
                    <name>Then Config of cloned intent is the same as for generalbank</name>
                    <title>Then Config of cloned intent is the same as for generalbank</title>
                </step>
            </steps>
            <attachments/>
            <labels>
                <label name="story" value="User should be able to clone tenant"/>
                <label name="feature" value="Testing TIE APIs"/>
                <label name="host" value="unassigned"/>
                <label name="thread" value="22359@unassigned.pool-1-thread-1(12)"/>
                <label name="framework" value="CucumberJVM"/>
            </labels>
        </test-case>
        <test-case start="1526912784068" stop="1526912883723" status="passed">
            <name>User should be able to clear tenant config</name>
            <title>User should be able to clear tenant config</title>
            <description type="text">API POST tenants/?tenant=TESTONE&amp;clear=nlp_config,train_data</description>
            <steps>
                <step start="1526912784069" stop="1526912784072" status="passed">
                    <name>Given Listener for logging request and response is ready</name>
                    <title>Given Listener for logging request and response is ready</title>
                    <attachments/>
                    <steps/>
                </step>
                <step start="1526912784072" stop="1526912795213" status="passed">
                    <name>Given I create new tenant with TIE API</name>
                    <title>Given I create new tenant with TIE API</title>
                    <attachments/>
                    <steps/>
                </step>
                <step start="1526912795214" stop="1526912865214" status="passed">
                    <name>And Wait for a minute</name>
                    <title>And Wait for a minute</title>
                    <attachments/>
                    <steps/>
                </step>
                <step start="1526912865214" stop="1526912865629" status="passed">
                    <name>When I add additional field aqaTest value to the new tenant config</name>
                    <title>When I add additional field aqaTest value to the new tenant config</title>
                    <attachments/>
                    <steps/>
                </step>
                <step start="1526912865629" stop="1526912868517" status="passed">
                    <name>And I send test trainset for newly created tenant status code is 200</name>
                    <title>And I send test trainset for newly created tenant status code is 200</title>
                    <attachments/>
                    <steps/>
                </step>
                <step start="1526912868517" stop="1526912873944" status="passed">
                    <name>When I clear tenant data</name>
                    <title>When I clear tenant data</title>
                    <attachments/>
                    <steps/>
                </step>
                <step start="1526912873944" stop="1526912874342" status="passed">
                    <name>Then additional field with aqaTest value is removed from tenant config</name>
                    <title>Then additional field with aqaTest value is removed from tenant config</title>
                    <attachments/>
                    <steps/>
                </step>
                <step start="1526912874342" stop="1526912883341" status="passed">
                    <name>And Added trainset is removed</name>
                    <title>And Added trainset is removed</title>
                    <attachments/>
                    <steps/>
                </step>
            </steps>
            <attachments/>
            <labels>
                <label name="story" value="User should be able to clear tenant config"/>
                <label name="feature" value="Testing TIE APIs"/>
                <label name="host" value="unassigned"/>
                <label name="thread" value="22359@unassigned.pool-1-thread-1(12)"/>
                <label name="framework" value="CucumberJVM"/>
            </labels>
        </test-case>
    </test-cases>
    <labels>
        <label name="feature" value="Testing TIE APIs"/>
        <label name="language" value="JAVA"/>
    </labels>
</ns2:test-suite>
